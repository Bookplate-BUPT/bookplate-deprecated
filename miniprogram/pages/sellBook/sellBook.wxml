<!--pages/scanISBN/scanISBN.wxml-->

<!-- 顶栏通知 -->
<van-sticky>
  <van-notice-bar color="#ed6a0c" background="#fffbe8" left-icon="info-o" text="请准确填写要求的书籍信息或使用扫码加书一键填写。" />
</van-sticky>

<!-- 书籍信息 -->
<van-cell-group inset title="书籍信息" custom-class="shadow">
  <van-field model:value="{{ name }}" placeholder="请输入书名" label="书名" required clearable clear-trigger="focus" />
  <van-field model:value="{{ author }}" placeholder="请输入作者名" label="作者名" required clearable clear-trigger="focus" />
  <van-field model:value="{{ isbn }}" placeholder="请输入书籍ISBN码" label="ISBN码" required clearable clear-trigger="focus" />
  <van-field model:value="{{ publisher }}" placeholder="请输入出版社" label="出版社" required clearable clear-trigger="focus" />
  <van-field model:value="{{ publishDate }}" placeholder="请输入出版时间" label="出版时间" required clearable clear-trigger="focus" />
  <van-field model:value="{{ introduction }}" placeholder="请输入书本介绍" label="介绍" clearable clear-trigger="focus" autosize type="textarea" />
</van-cell-group>

<!-- 售卖详情 -->
<van-cell-group inset title="售卖详情" custom-class="shadow">
  <van-field model:value="{{ originalPrice }}" placeholder="请输入原价" label="书籍原价" required clearable clear-trigger="focus" type="digit" />

  <van-field model:value="{{ price }}" placeholder="请输入二手定价" label="二手定价" required clearable clear-trigger="focus" type="digit" />

  <van-cell>
    <view style="margin: 16px 16px 16px 16px">
      <van-slider value="{{ price / originalPrice * 100 }}" use-slot-button bind:drag="priceDragInSlider" bind:change="priceChangeInSlider">
        <view slot="button" style="background-color: black;">{{ price }}</view>
      </van-slider>
    </view>
  </van-cell>

  <van-cell title="书籍分类" required title-width="84px">
    <view style="margin: 2px 0 0 4px;">
      <van-radio-group value="{{ grade }}" bind:change="bookGradeChange" direction="horizontal">
        <van-radio name="本科生" checked-color="#8ac286">本科生</van-radio>
        <van-radio name="研究生" checked-color="#8ac286">研究生</van-radio>
      </van-radio-group>
    </view>
  </van-cell>

  <van-field model:value="{{ description }}" placeholder="9成新、配套资料齐全等" label="书籍情况" required clearable clear-trigger="focus" autosize type="textarea" />

</van-cell-group>

<!-- 书籍图片 -->
<van-cell-group inset title="书籍图片" custom-class="shadow">
  <view style="margin: 2% 0 0 3%;">
    <van-uploader file-list="{{ showList }}" bind:after-read="addImage" max-count="9" bind:delete="deleteImage" />
  </view>
</van-cell-group>

<view style="margin-bottom: 64px;"></view>

<!-- 遇到困难遮罩层 -->
<van-overlay show="{{ showDifficultyOverLay }}" bind:click="closeDifficultyOverLay" style="z-index: 1000;">
  <view style="margin-top: 25%;">
    <van-cell-group inset custom-class="shadow">
      <van-steps steps="{{ helpSteps }}" active="{{ -1 }}" direction="vertical" />
    </van-cell-group>
  </view>
</van-overlay>

<!-- 底部 -->
<van-goods-action style="z-index: 999;">
  <van-goods-action-icon icon="question-o" text="遇到困难" bind:click="showDifficultyOverLay" />
  <van-goods-action-icon icon="delete-o" text="一键清空" bind:click="clearBookDetail" />
  <van-goods-action-button plain color="#8ac286" bind:click="scanISBN">
    <van-icon name="scan" />
    <text style="margin-left: 4px;">扫码填写</text>
  </van-goods-action-button>
  <van-goods-action-button color="#8ac286" bind:click="uploadBookInfo">
    信息录入
  </van-goods-action-button>
</van-goods-action>