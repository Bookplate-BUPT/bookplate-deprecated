<!--pages/mine/mine.wxml-->

<van-cell-group inset custom-class="shadow" style="margin-top: 24px;">
  <view bindtap="userLoginInMine" style="background-color: white; height: 84px;">
    <view wx:if="{{userInfo}}" style="display: flex; align-items: center;">
      <van-image round width="64px" height="64px" src="{{ userInfo.avatarUrl }}" style="margin-left: 15%; margin-top: 10px;" />

      <van-row>
        <van-col custom-class="usernameCol">
          <text style="font-size: 14px; margin-left: 16px;">{{ userInfo.nickName }}</text>
          <van-tag color="#f6a7af" style="margin-left: 12px;">{{ userGrade }}</van-tag>
        </van-col>
        <van-col offset="2" custom-class="tagCol">
          <van-tag color="#b0c2db">{{ userSchool }}</van-tag>
        </van-col>
      </van-row>
    </view>

    <view wx:else style="display: flex; align-items: center;">
      <van-image round width="64px" height="64px" style="margin-left: 15%; margin-top: 10px;" />
      <text style="font-size: 14px; margin-left: 16px;">点击验证个人信息</text>
    </view>
  </view>
</van-cell-group>

<van-cell-group inset custom-class="shadow" style="margin-top: 24px;">
  <van-grid direction="horizontal" column-num="3" clickable>
    <van-grid-item use-slot bind:click="gotoConfirmOrder">
      <van-icon name="shop-o" size="16px" dot="{{unconfirmedTrade}}" />
      <text style="font-size: x-small; color: #323233; margin-left: 3px;">订单确认</text>
    </van-grid-item>

    <van-grid-item use-slot bind:click="gotoViewOrder" data-active="{{ 0 }}">
      <van-icon name="/icons/mybook.png" size="16px" />
      <text style="font-size: x-small; color: #323233; margin-left: 3px;">我的订单</text>
    </van-grid-item>

    <van-grid-item use-slot bind:click="gotoViewOrder" data-active="{{ 3 }}">
      <van-icon name="/icons/unreceived.png" size="16px" />
      <text style="font-size: x-small; color: #323233; margin-left: 3px;">暂未收货</text>
    </van-grid-item>
  </van-grid>

  <van-grid column-num="2">
    <van-grid-item text="书籍被浏览量" center bind:click="gotoHistory">
      <text slot="icon" style="color: #323233; font-size: x-large;">{{ viewsSum }}</text>
    </van-grid-item>
    <van-grid-item text="总交易成功量" center>
      <text slot="icon" style="color: #323233; font-size: x-large;">{{ tradeSum }}</text>
    </van-grid-item>
  </van-grid>

  <van-cell is-link title="我的卖书" link-type="navigateTo" url="../editUserInfo/editUserInfo">
    <van-icon name="shop-o" size="16px" slot="icon" style="margin-right: 4px;" />
  </van-cell>

  <van-cell is-link title="我的求书" link-type="navigateTo" url="../editUserInfo/editUserInfo">
    <van-icon name="shop-collect-o" size="16px" slot="icon" style="margin-right: 4px;" />
  </van-cell>

  <van-cell is-link title="联系客服" link-type="navigateTo" url="../editUserInfo/editUserInfo">
    <van-icon name="service-o" size="16px" slot="icon" style="margin-right: 4px;" />
  </van-cell>
</van-cell-group>

<van-cell-group inset custom-class="shadow" style="margin-top: 24px;">
  <van-cell is-link title="编辑个人信息" link-type="navigateTo" url="../editUserInfo/editUserInfo" icon="edit" />
</van-cell-group>

<!-- <van-cell-group inset custom-class="shadow" style="margin-top: 24px;">
  <van-swipe-cell right-width="{{ 65 }}" left-width="{{ 65 }}">
    <van-button slot="left" color="lightgreen" custom-class="swiperCellButton">选择</van-button>
    <van-cell title="单元格" value="内容" />
    <van-button slot="right" color="red" custom-class="swiperCellButton">删除</van-button>
  </van-swipe-cell>
  <van-swipe-cell right-width="{{ 65 }}" left-width="{{ 65 }}">
    <van-button slot="left" color="lightgreen" custom-class="swiperCellButton">选择</van-button>
    <van-cell title="单元格" value="内容" />
    <van-button slot="right" color="red" custom-class="swiperCellButton">删除</van-button>
  </van-swipe-cell>
</van-cell-group> -->

<van-cell-group inset custom-class="shadow" style="margin-top: 24px;" wx:if="{{userInfo}}">
  <van-button block color="linear-gradient(to right, #8ac286, #659c64)" bind:click="userLogout">退出登录</van-button>
</van-cell-group>

<view style="margin-bottom: 5%;" />